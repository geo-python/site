

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-105019106-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Hints &mdash; Geo-Python 2017 Autumn documentation</title>
  

  
  
    <link rel="shortcut icon" href="../../_static/GeoPython_favicon.ico"/>
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/banner.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/geo-python.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link href="../../_static/geo-python.css" rel="stylesheet" type="text/css">
     


  
  <script src="../../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../../index.html" class="icon icon-home"> Geo-Python
          

          
            
            <img src="../../_static/logo_hy_geo_135.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                2017 Autumn
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Course information</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../course-info/course-info.html">General info</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../course-info/learning-goals.html">Learning goals</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../course-info/grading.html">Grading</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../course-info/installing-anacondas.html">Installing Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../course-info/python-vocabulary.html">Vocabulary - Basic terms</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../course-info/resources.html">Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../course-info/licensing.html">License and terms of usage</a></li>
</ul>
<p class="caption"><span class="caption-text">Lesson 1</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../L1/motivation.html">Motivation for the course</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L1/overview.html">Lesson overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L1/lesson-video.html">Lecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L1/course-environment-components.html">Course environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L1/intro-to-cloud-environment.html">Using the cloud computing environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L1/slack-usage.html">Communicating with Slack</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L1/A-taste-of-Python.html">A taste of Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L1/exercise-1.html">Exercise 1</a></li>
</ul>
<p class="caption"><span class="caption-text">Lesson 2</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../L2/overview.html">Lesson overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L2/lesson-video.html">Lecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L2/intro-to-GitHub.html">Introduction to Version Control and GitHub</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L2/GitHub-classroom.html">Using Classroom for Github</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L2/working-on-assignment.html">Working on the assignments</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L2/python-basic-elements.html">Basic elements of Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L2/writing-scripts.html">Writing your own Python scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L2/ex-2.html">Exercise 2</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L2/exercise-2-hints.html">Exercise 2 hints</a></li>
</ul>
<p class="caption"><span class="caption-text">Lesson 3</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../L3/overview.html">Lesson overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L3/lesson-video.html">Lecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L3/for-loops.html"><code class="docutils literal notranslate"><span class="pre">for</span></code> loops</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L3/conditional-statements.html">Conditional statements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L3/ex-3.html">Exercise 3</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L3/exercise-3-hints.html">Exercise 3 hints</a></li>
</ul>
<p class="caption"><span class="caption-text">Lesson 4</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../L4/overview.html">Lesson overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L4/lesson-video.html">Lecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L4/functions.html">Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L4/modules.html">Loading and using modules</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L4/ex-4.html">Exercise 4</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L4/exercise-4-hints.html">Exercise 4 hints</a></li>
</ul>
<p class="caption"><span class="caption-text">Lesson 5</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="overview.html">Lesson overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="lesson-video.html">Lecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="pandas-overview.html">What is Pandas?</a></li>
<li class="toctree-l1"><a class="reference internal" href="pandas-basics.html">Exploring data using Pandas</a></li>
<li class="toctree-l1"><a class="reference internal" href="pandas-basic-operations.html">Processing data with Pandas</a></li>
<li class="toctree-l1"><a class="reference internal" href="ex-5.html">Exercise 5</a></li>
<li class="toctree-l1"><a class="reference internal" href="exercise-5-hints.html">Hints for Exercise 5</a></li>
</ul>
<p class="caption"><span class="caption-text">Lesson 6</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../L6/overview.html">Lesson overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L6/lesson-video.html">Lecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L6/pandas-analysis.html">Advanced data processing with Pandas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L6/interpreting-errors.html">Dealing with errors</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L6/debugging-scripts.html">Debugging Python scripts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L6/ex-6.html">Exercise 6</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L6/exercise-6-hints.html">Hints for Exercise 6</a></li>
</ul>
<p class="caption"><span class="caption-text">Lesson 7</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../L7/overview.html">Lesson overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L7/lesson-video.html">Lecture</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L7/python-plotting.html">Plotting in Python</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L7/plot-anatomy.html">Anatomy of a plot</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L7/matplotlib.html">Plotting with Matplotlib</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L7/using-plotly.html">Connecting Matplotlib with plotly</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L7/pandas-plotting.html">Advanced plotting with Pandas</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L7/ex-7.html">Exercise 7</a></li>
<li class="toctree-l1"><a class="reference internal" href="../L7/exercise-7-hints.html">Hints for Exercise 7</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Geo-Python</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
      <li>Hints</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../../_sources/lessons/L5/hints.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  


    
    



    <p class="scv-banner scv-sphinx_rtd_theme"><b>Warning:</b> This document is for the development version of Geo-Python.</p>
<div class="section" id="hints">
<h1>Hints<a class="headerlink" href="#hints" title="Permalink to this headline">¶</a></h1>
<p>Below are a selection of hints for Exercise 6. As before, they are
divided between pseudocode and practical tips. Good luck!</p>
<div class="section" id="problem-1-noaa-climate-data-revisited">
<h2>Problem 1: NOAA climate data revisited<a class="headerlink" href="#problem-1-noaa-climate-data-revisited" title="Permalink to this headline">¶</a></h2>
<div class="section" id="starter-code">
<h3>Starter code<a class="headerlink" href="#starter-code" title="Permalink to this headline">¶</a></h3>
<p>We have now added <a class="reference external" href="calculate_seasonal_temps.py">a starter code</a> you
can use to complete this exercise. Things you should fix are marked with
<code class="docutils literal notranslate"><span class="pre">#TODO</span></code> in the comments.</p>
</div>
<div class="section" id="pseudocode">
<h3>Pseudocode<a class="headerlink" href="#pseudocode" title="Permalink to this headline">¶</a></h3>
<p>For this problem we need to read in a data file, remove some “bad”
values, and then calculate some average values using only parts of the
contents of the file. The pseudocode for this case is below.</p>
<ol class="arabic simple">
<li>Read in a <code class="docutils literal notranslate"><span class="pre">.csv</span></code> data file using <code class="docutils literal notranslate"><span class="pre">np.loadtxt()</span></code>, separate the
values by the commas, and read in only the date and temperature
values.</li>
<li>Calculate the mean and standard deviation of the temperatures from
the data file.</li>
<li>Remove any temperature value that is outside ±4 standard deviations
of the mean.</li>
</ol>
<ul class="simple">
<li>We’ll need an empty list to store the “bad” value locations</li>
<li>We can use a <code class="docutils literal notranslate"><span class="pre">for</span></code> loop to loop through all of the temperature
values and check whether they are (1) less than the mean value minus
4 times the standard deviation, or (2) greater than the mean value
plus 4 times the standard deviation.</li>
<li>If so, we can append the index value from the for loop to the array
of bad values.</li>
<li>Then, we can loop through the “bad” value list after checking all of
the values and remove values from the data using <code class="docutils literal notranslate"><span class="pre">np.delete()</span></code>.<ul>
<li>We’ll have to use the <code class="docutils literal notranslate"><span class="pre">list.reverse()</span></code> method to reverse the
list of “bad” index values first so we don’t end up removing the
wrong values. <em>For example, if we remove value 4 from the list,
the indexes of all values below the old value 4 will decrease by
1. If we remove the higher index values first, everything should
be OK</em>.</li>
</ul>
</li>
</ul>
<ol class="arabic simple" start="4">
<li>Now that we have clean data, we need to calculate the seasonal
average values by looping through all of the years in the dataset,
calculating seasonal averages, and appending them to a list.</li>
</ol>
<ul class="simple">
<li>We should first make a pair of empty lists for the seasonal average
temperatures before starting the loop through the years.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">for</span></code> loop should start in year 1927 since we don’t have data
for the full winter of 1925. It should end in 2016, since that will
make 2015 the last year in the calculated averages.</li>
<li>Finding the months and years will be tricky, since the date values
are numerical when NumPy reads them.<ul>
<li>We can start by defining two values to represent this year and
last, where last is just the year from the <code class="docutils literal notranslate"><span class="pre">for</span></code> loop minus 1.</li>
<li>Since the dates are simply 8 numbers, where the first four are the
year, we can make a comparison for a given year by multiplying it
by 10000. For example, 1927 * 10000 = 19270000. Like this, we can
use the other 4 digits to check for specific months.</li>
<li>We will need to identify the seasonal temperature range using a
range of dates. Since winter is December of the last year through
February, that number range should start at (previous year *
10000) + 1201 and end at (current year * 10000) + 0229. The same
logic applies to the summer period.</li>
<li>Once we have the numbers that correspond to December 1 and
February 29, for example, we just need to find the dates in the
data file that match for a given year. The dates must meet two
conditions to be in the range: Any date that is greater than or
equal to the first value, <strong>and</strong> less than or equal to the second
should be in the seasonal range. See <strong>`example
here &lt;exercise6_hint_time_selection.py&gt;`__</strong>.</li>
<li>With the ranges identified, we can use <code class="docutils literal notranslate"><span class="pre">np.extract()</span></code> to create
a NumPy array of just the selected temperatures for summer and
winter of a given year.</li>
<li>Then we can simply append the <code class="docutils literal notranslate"><span class="pre">.mean()</span></code> values of each array,
along with the year, to the lists we created before the <code class="docutils literal notranslate"><span class="pre">for</span></code>
loop started.</li>
</ul>
</li>
</ul>
<ol class="arabic simple" start="5">
<li>Finally we’ll need to write the output to a file using
<code class="docutils literal notranslate"><span class="pre">np.savetxt()</span></code>.</li>
</ol>
</div>
<div class="section" id="practical-tips">
<h3>Practical tips<a class="headerlink" href="#practical-tips" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><strong>Skipping headers</strong>. Header lines can easily be skipped by adding
the parameter <code class="docutils literal notranslate"><span class="pre">skiprows</span> <span class="pre">=</span> <span class="pre">&lt;number&gt;</span></code> to <code class="docutils literal notranslate"><span class="pre">np.loadtxt()</span></code>, where
<code class="docutils literal notranslate"><span class="pre">&lt;number&gt;</span></code> is the number of header rows to skip.</li>
<li><strong>Loading only certain “columns” of data from a ``.csv`` file</strong>.
Similar to skipping header rows, we can select the “columns” to load
using the parameter <code class="docutils literal notranslate"><span class="pre">usecols=(&lt;col1&gt;,</span> <span class="pre">&lt;col2&gt;,</span> <span class="pre">...)</span></code>, to
<code class="docutils literal notranslate"><span class="pre">np.loadtxt()</span></code>, where <code class="docutils literal notranslate"><span class="pre">&lt;col1&gt;</span></code> and <code class="docutils literal notranslate"><span class="pre">&lt;col2&gt;</span></code> are the numbers of
the columns, starting from <code class="docutils literal notranslate"><span class="pre">0</span></code>.</li>
<li><strong>Detecting and removing “bad” values</strong>.</li>
</ol>
<ul class="simple">
<li><strong>Detecting</strong></li>
<li>Bad values are fairly simple to detect using a <code class="docutils literal notranslate"><span class="pre">for</span></code> loop:<ul>
<li>The loop should go through all of the temperature values in the
data file.</li>
<li>For each time through the loop, the temperature value on that
iteration should be compared to see whether it is greater than or
less than the mean value ± 4 times the standard deviation.</li>
<li>This can be done using: <code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">&lt;condition</span> <span class="pre">1&gt;</span> <span class="pre">or</span> <span class="pre">&lt;condition</span> <span class="pre">2&gt;:</span></code>,
where <code class="docutils literal notranslate"><span class="pre">&lt;condition</span> <span class="pre">1&gt;</span></code> would be the first test (is temperature
less than mean minus 4 times standard deviation), and
<code class="docutils literal notranslate"><span class="pre">&lt;condition</span> <span class="pre">2&gt;</span></code> would be the second test (is temperature greater
than mean plus 4 times standard deviation).</li>
<li>Whenever either condition is <code class="docutils literal notranslate"><span class="pre">True</span></code>, the value of the index
(i.e., line in the data file) should be appended to a list of
“bad” values. That list should be created before the <code class="docutils literal notranslate"><span class="pre">for</span></code> loop.</li>
</ul>
</li>
<li><strong>Removing</strong></li>
<li>We’ll need another <code class="docutils literal notranslate"><span class="pre">for</span></code> loop to remove the bad values.<ul>
<li>First, the list of index value should be reversed so that the
values with the highest index are removed first. Running
<code class="docutils literal notranslate"><span class="pre">list.reverse()</span></code> will reverse a list, assuming <code class="docutils literal notranslate"><span class="pre">list</span></code> is the
variable name of the list.</li>
<li>The <code class="docutils literal notranslate"><span class="pre">for</span></code> loop should then go over all values in the list of
“bad” values.</li>
<li>For each value, the <code class="docutils literal notranslate"><span class="pre">np.delete()</span></code> method can be used to remove
the values. <code class="docutils literal notranslate"><span class="pre">np.delete()</span></code> expects the following use:
<code class="docutils literal notranslate"><span class="pre">np.delete(&lt;array&gt;,</span> <span class="pre">&lt;index</span> <span class="pre">of</span> <span class="pre">value&gt;,</span> <span class="pre">&lt;axis&gt;)</span></code>, where
<code class="docutils literal notranslate"><span class="pre">&lt;array&gt;</span></code> is just the data file array, <code class="docutils literal notranslate"><span class="pre">&lt;index</span> <span class="pre">of</span> <span class="pre">value&gt;</span></code>
would be the index value from the list of “bad” values, and
<code class="docutils literal notranslate"><span class="pre">&lt;axis&gt;</span></code> is <code class="docutils literal notranslate"><span class="pre">0</span></code> for our case.</li>
</ul>
</li>
</ul>
<ol class="arabic simple" start="4">
<li><strong>Selecting data for a given range of dates</strong>.</li>
</ol>
</div>
</div>
<div class="section" id="optional-problem-2-volcanoes-again-dealing-with-tricky-data-files">
<h2>(<em>Optional</em>) Problem 2: Volcanoes again? Dealing with tricky data files<a class="headerlink" href="#optional-problem-2-volcanoes-again-dealing-with-tricky-data-files" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id1">
<h3>Pseudocode<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="id2">
<h3>Practical tips<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017 Tenkanen &amp; Whipp, University of Helsinki.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
    <p> <br/> <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png" /></a><br /> </a></p>
     


</footer>

        </div>
      </div>

    </section>

  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
        <span class="fa fa-book"> Other Versions</span>
        v: 2017
        <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
        <dl>
            <dt>Branches</dt>
            <dd><a href="hints.html">2017</a></dd>
            <dd><a href="../../../develop/index.html">develop</a></dd>
            <dd><a href="../../../master/index.html">master</a></dd>
        </dl>
    </div>
</div>


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'2017 Autumn',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  <script type="text/javascript" src="../../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>